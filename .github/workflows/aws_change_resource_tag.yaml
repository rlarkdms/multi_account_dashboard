# name: aws_change_resource_tag.yaml
# permissions:
#   id-token: write
#   contents: write
#   pull-requests: write
# on: 
#   push:
#     branches:
#       - main
#       - change_tag
# env:
#   AWS_REGION: ap-northeast-2
#   ECR_REPOSITORY: aws_change_resource_tag

# jobs:
#   aws_change_resource_tag_job:
#     strategy:
#       max-parallel: 1
#       matrix:
#         environment: ["aws_change_resource_tag"]
#     runs-on: ubuntu-22.04
#     environment: ${{ matrix.environment }}
#     steps:
#       - name: Checkout 
#         uses: actions/checkout@v3

#       - name: Configure AWS Credentials
#         uses: aws-actions/configure-aws-credentials@v1
#         with:
#           aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
#           aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
#           aws-region: ${{ env.AWS_REGION }}

#       - name: Login-ecr
#         id: login-ecr
#         uses: aws-actions/amazon-ecr-login@v1

#       - name: Build and Push
#         id: docker_build
#         uses: docker/build-push-action@v2
#         with:
#           context: .
#           file: python_change_resource_tag/Dockerfile
#           platforms: linux/amd64
#           push: true
#           tags: ${{ steps.login-ecr.outputs.registry }}/${{ env.ECR_REPOSITORY }}:${{ github.sha }}

